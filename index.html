<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dice World Portfolio</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html,body{
  margin:0;
  height:100%;
  overflow:hidden;
  background:#020617;
  font-family:Arial, sans-serif;
  color:#e5e7eb;
}
canvas{display:block}

/* SIGN BOARDS */
.board{
  position:fixed;
  padding:8px 12px;
  font-size:11px;
  letter-spacing:1px;
  background:rgba(2,6,23,0.85);
  border:1px solid rgba(56,189,248,0.25);
  border-radius:6px;
  color:#94a3b8;
  text-transform:uppercase;
  pointer-events:none;
}
#board-contact{left:60px; top:58%;}
#board-resume{left:120px; top:42%;}
#board-skills{right:120px; top:42%;}
#board-projects{right:60px; top:58%;}

/* PANELS */
.panel{
  position:fixed;
  top:50%;
  transform:translateY(-50%);
  width:360px;
  padding:18px;
  background:rgba(2,6,23,0.95);
  border-radius:16px;
  opacity:0;
  pointer-events:none;
  transition:opacity 0.35s ease;
}
.panel.show{opacity:1;}
#leftPanel{left:20px;}
#rightPanel{right:20px;}

.skills{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
}
.skill{
  background:#020617;
  border:1px solid #1e40af;
  border-radius:10px;
  padding:8px;
  font-size:12px;
  text-align:center;
  color:#38bdf8;
}
</style>
</head>

<body>

<!-- SIGN BOARDS (WORLD HINTS) -->
<div id="board-contact" class="board">CONTACT ‚Üê</div>
<div id="board-resume" class="board">RESUME</div>
<div id="board-skills" class="board">SKILLS</div>
<div id="board-projects" class="board">‚Üí PROJECTS</div>

<!-- PANELS -->
<div id="leftPanel" class="panel">
  <h2 id="leftTitle"></h2>
  <div id="leftContent"></div>
</div>

<div id="rightPanel" class="panel">
  <h2 id="rightTitle"></h2>
  <div id="rightContent"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>

<script>
let scene,camera,renderer,dice;
let t=0.5,targetT=0.5,bounce=0;
let activePath;

// PATHS
let mainPath,leftPath,rightPath;

// UI
const leftPanel=document.getElementById("leftPanel");
const rightPanel=document.getElementById("rightPanel");
const leftTitle=document.getElementById("leftTitle");
const leftContent=document.getElementById("leftContent");
const rightTitle=document.getElementById("rightTitle");
const rightContent=document.getElementById("rightContent");

window.onload=()=>{
  scene=new THREE.Scene();
  scene.background=new THREE.Color(0x020617);

  camera=new THREE.PerspectiveCamera(60,innerWidth/innerHeight,0.1,100);
  camera.position.set(0,4,14);

  renderer=new THREE.WebGLRenderer({antialias:true});
  renderer.setSize(innerWidth,innerHeight);
  renderer.setPixelRatio(devicePixelRatio);
  document.body.appendChild(renderer.domElement);

  scene.add(new THREE.AmbientLight(0xffffff,1.2));
  const d=new THREE.DirectionalLight(0xffffff,1.5);
  d.position.set(5,10,5);
  scene.add(d);

  scene.add(new THREE.GridHelper(80,80,0x38bdf8,0x1e40af));

  // MAIN PATH
  mainPath=new THREE.CatmullRomCurve3([
    new THREE.Vector3(-2,1.1,0),
    new THREE.Vector3(0,1.4,-1.2),
    new THREE.Vector3(2,1.1,0)
  ]);

  // LEFT BRANCH
  leftPath=new THREE.CatmullRomCurve3([
    new THREE.Vector3(0,1.1,0),
    new THREE.Vector3(-3,1.5,-1.2),
    new THREE.Vector3(-6,1.1,0)
  ]);

  // RIGHT BRANCH
  rightPath=new THREE.CatmullRomCurve3([
    new THREE.Vector3(0,1.1,0),
    new THREE.Vector3(3,1.5,-1.2),
    new THREE.Vector3(6,1.1,0)
  ]);

  drawPath(mainPath);
  drawPath(leftPath);
  drawPath(rightPath);

  activePath=mainPath;

  dice=new THREE.Mesh(
    new THREE.BoxGeometry(2.2,2.2,2.2),
    new THREE.MeshStandardMaterial({color:0x22c55e})
  );
  scene.add(dice);

  window.addEventListener("keydown",e=>{
    if(e.key==="ArrowLeft"){
      activePath=leftPath; targetT=1;
    }
    if(e.key==="ArrowRight"){
      activePath=rightPath; targetT=1;
    }
    if(e.key==="ArrowDown"){
      activePath=mainPath; targetT=1;
    }
  });

  animate();
};

function drawPath(curve){
  const pts=curve.getPoints(40);
  scene.add(new THREE.Line(
    new THREE.BufferGeometry().setFromPoints(pts),
    new THREE.LineBasicMaterial({color:0x38bdf8})
  ));
}

function animate(){
  requestAnimationFrame(animate);

  t+=(targetT-t)*0.08;
  bounce+=Math.abs(targetT-t)*0.15;

  const y=Math.sin(bounce)*0.15;
  const p=activePath.getPoint(Math.min(t,1));

  dice.position.set(p.x,p.y+y,p.z);

  // LEFT PATH CONTENT
  if(activePath===leftPath && t>0.9){
    leftPanel.classList.add("show");
    rightPanel.classList.remove("show");
    leftTitle.textContent="CONTACT & RESUME";
    leftContent.innerHTML=`
      <p>üìû +917095338146</p>
      <p>üìß cherukupally.sowmya19@gmail.com</p>
      <a href="SowmyaCherukupallyResume.pdf" target="_blank">Resume ‚Üí</a>`;
  }
  // RIGHT PATH CONTENT
  else if(activePath===rightPath && t>0.9){
    rightPanel.classList.add("show");
    leftPanel.classList.remove("show");
    rightTitle.textContent="SKILLS & PROJECTS";
    rightContent.innerHTML=`
      <div class="skills">
        <div class="skill">Python</div>
        <div class="skill">Snowflake</div>
        <div class="skill">PySpark</div>
        <div class="skill">SQL</div>
        <div class="skill">DBT</div>
        <div class="skill">Pipelines</div>
      </div>
      <hr style="opacity:.2">
      <strong>Automated Data Ingestion</strong>
      <p>Snowflake + PySpark pipeline.</p>`;
  }
  else{
    leftPanel.classList.remove("show");
    rightPanel.classList.remove("show");
  }

  renderer.render(scene,camera);
}
</script>

</body>
</html>
