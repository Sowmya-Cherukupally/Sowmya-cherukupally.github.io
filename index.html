<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dice World Portfolio</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html,body{
  margin:0;
  height:100%;
  overflow:hidden;
  background:#020617;
  font-family:Arial, sans-serif;
  color:#e5e7eb;
}
canvas{display:block}

/* WORLD BOARDS */
.board{
  position:fixed;
  padding:10px 14px;
  font-size:12px;
  letter-spacing:1px;
  background:rgba(2,6,23,0.8);
  border:1px solid rgba(56,189,248,0.25);
  border-radius:6px;
  color:#94a3b8;
  text-transform:uppercase;
  pointer-events:none; /* üëà not clickable */
  backdrop-filter: blur(6px);
}

/* Board positions */
#board-contact{left:20px; top:55%;}
#board-resume{left:120px; top:40%;}
#board-skills{right:120px; top:40%;}
#board-projects{right:20px; top:55%;}

/* PANELS */
.panel{
  position:fixed;
  top:50%;
  transform:translateY(-50%);
  width:360px;
  padding:18px;
  background:rgba(2,6,23,0.95);
  border-radius:16px;
  opacity:0;
  pointer-events:none;
  transition:opacity 0.35s ease;
}
.panel.show{opacity:1;}
#leftPanel{left:20px;}
#rightPanel{right:20px;}

.skills{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
}
.skill{
  background:#020617;
  border:1px solid #1e40af;
  border-radius:10px;
  padding:8px;
  font-size:12px;
  text-align:center;
  color:#38bdf8;
}
</style>
</head>

<body>

<!-- WORLD BOARDS -->
<div id="board-contact" class="board">‚Üê LET‚ÄôS TALK</div>
<div id="board-resume" class="board">RESUME THIS WAY</div>
<div id="board-skills" class="board">SKILLS AHEAD ‚Üí</div>
<div id="board-projects" class="board">PROJECTS BEYOND ‚Üí</div>

<!-- PANELS -->
<div id="leftPanel" class="panel">
  <h2 id="leftTitle"></h2>
  <div id="leftContent"></div>
</div>

<div id="rightPanel" class="panel">
  <h2 id="rightTitle"></h2>
  <div id="rightContent"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>

<script>
let scene,camera,renderer,dice,path;
let t=0.5,targetT=0.5,bounce=0;

const leftPanel=document.getElementById("leftPanel");
const rightPanel=document.getElementById("rightPanel");
const leftTitle=document.getElementById("leftTitle");
const leftContent=document.getElementById("leftContent");
const rightTitle=document.getElementById("rightTitle");
const rightContent=document.getElementById("rightContent");

window.onload=()=>{
  scene=new THREE.Scene();
  scene.background=new THREE.Color(0x020617);

  camera=new THREE.PerspectiveCamera(60,innerWidth/innerHeight,0.1,100);
  camera.position.set(0,4,12);

  renderer=new THREE.WebGLRenderer({antialias:true});
  renderer.setSize(innerWidth,innerHeight);
  renderer.setPixelRatio(devicePixelRatio);
  document.body.appendChild(renderer.domElement);

  scene.add(new THREE.AmbientLight(0xffffff,1.2));
  const d=new THREE.DirectionalLight(0xffffff,1.5);
  d.position.set(5,10,5);
  scene.add(d);

  scene.add(new THREE.GridHelper(60,60,0x38bdf8,0x1e40af));

  path=new THREE.CatmullRomCurve3([
    new THREE.Vector3(-8,1.1,0),
    new THREE.Vector3(-3,1.6,-1.2),
    new THREE.Vector3(0,1.8,-1.8),
    new THREE.Vector3(3,1.6,-1.2),
    new THREE.Vector3(8,1.1,0)
  ]);

  const pts=path.getPoints(100);
  scene.add(new THREE.Line(
    new THREE.BufferGeometry().setFromPoints(pts),
    new THREE.LineBasicMaterial({color:0x38bdf8})
  ));

  dice=new THREE.Mesh(
    new THREE.BoxGeometry(2.2,2.2,2.2),
    new THREE.MeshStandardMaterial({color:0x22c55e})
  );
  scene.add(dice);

  window.addEventListener("keydown",e=>{
    if(e.key==="a"||e.key==="ArrowLeft")targetT=Math.max(0,targetT-0.25);
    if(e.key==="d"||e.key==="ArrowRight")targetT=Math.min(1,targetT+0.25);
  });

  let sx=0;
  window.addEventListener("touchstart",e=>sx=e.touches[0].clientX);
  window.addEventListener("touchend",e=>{
    const dx=e.changedTouches[0].clientX-sx;
    if(dx>40) targetT=Math.min(1,targetT+0.25);
    if(dx<-40) targetT=Math.max(0,targetT-0.25);
  });

  animate();
};

function animate(){
  requestAnimationFrame(animate);

  t+=(targetT-t)*0.08;
  bounce+=Math.abs(targetT-t)*0.15;

  const y=Math.sin(bounce)*0.15;
  const p=path.getPoint(t);
  dice.position.set(p.x,p.y+y,p.z);

  // CONTENT REVEAL (DISCOVERY)
  if(t<0.2){
    leftPanel.classList.add("show");
    rightPanel.classList.remove("show");
    leftTitle.textContent="CONTACT";
    leftContent.innerHTML=`
      <p>üìû +917095338146</p>
      <p>üìß cherukupally.sowmya19@gmail.com</p>
      <p>
        <a href="https://www.linkedin.com/in/sowmya-cherukupally-a92911251" target="_blank">LinkedIn</a><br>
        <a href="https://github.com/Sowmya-Cherukupally" target="_blank">GitHub</a>
      </p>`;
  }
  else if(t<0.4){
    leftPanel.classList.add("show");
    rightPanel.classList.remove("show");
    leftTitle.textContent="RESUME";
    leftContent.innerHTML=`
      <a href="SowmyaCherukupallyResume.pdf" target="_blank">Download Resume ‚Üí</a>`;
  }
  else if(t>0.8){
    rightPanel.classList.add("show");
    leftPanel.classList.remove("show");
    rightTitle.textContent="PROJECTS";
    rightContent.innerHTML=`
      <strong>Automated Data Ingestion</strong>
      <p>Snowflake + PySpark pipeline.</p>
      <a href="https://github.com/sowmya-ch-19/Agentic" target="_blank">GitHub ‚Üí</a>
      <hr style="opacity:.2">
      <strong>Real Estate Comparison Tool</strong>
      <p>Vector-based property comparison.</p>
      <a href="https://github.com/sowmya-ch-19/PropelensRealestate" target="_blank">GitHub ‚Üí</a>`;
  }
  else if(t>0.6){
    rightPanel.classList.add("show");
    leftPanel.classList.remove("show");
    rightTitle.textContent="SKILLS";
    rightContent.innerHTML=`
      <div class="skills">
        <div class="skill">Python</div>
        <div class="skill">Snowflake</div>
        <div class="skill">PySpark</div>
        <div class="skill">SQL</div>
        <div class="skill">DBT</div>
        <div class="skill">Data Pipelines</div>
      </div>`;
  }
  else{
    leftPanel.classList.remove("show");
    rightPanel.classList.remove("show");
  }

  renderer.render(scene,camera);
}
</script>

</body>
</html>
