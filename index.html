<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sowmya Cherukupally | 3D Track Portfolio</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
html, body {
  margin: 0;
  height: 100%;
  overflow: hidden;
  background: #020617;
  font-family: Inter, sans-serif;
  color: #e5e7eb;
}

/* ===== START SCREEN ===== */
.start {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle at center, #020617, #000);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 10;
  cursor: pointer;
}

.start h1 {
  font-size: 48px;
  margin-bottom: 10px;
}

.start p {
  opacity: .6;
  margin-bottom: 30px;
}

.start .ring {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  border: 2px solid #38bdf8;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #38bdf8;
  letter-spacing: 3px;
  animation: pulse 2.5s infinite;
}

@keyframes pulse {
  0% { box-shadow: 0 0 0 0 rgba(56,189,248,.6); }
  70% { box-shadow: 0 0 0 40px rgba(56,189,248,0); }
}

/* ===== INFO PANEL ===== */
.panel {
  position: fixed;
  left: 30px;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(2,6,23,0.9);
  border: 1px solid #1e293b;
  border-radius: 14px;
  padding: 24px;
  width: 320px;
  opacity: 0;
  transition: opacity .3s ease;
}

.panel.active {
  opacity: 1;
}

.panel h3 {
  margin-top: 0;
  color: #38bdf8;
}
</style>
</head>

<body>

<!-- START -->
<div class="start" id="start">
  <h1>Sowmya Cherukupally</h1>
  <p>Move along the track</p>
  <div class="ring">START</div>
</div>

<!-- INFO PANEL -->
<div class="panel" id="panel"></div>

<canvas id="bg"></canvas>

<script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js"></script>

<script>
/* ================= BASIC THREE ================= */
const scene = new THREE.Scene();
scene.fog = new THREE.Fog(0x020617, 10, 80);

const camera = new THREE.PerspectiveCamera(60, innerWidth / innerHeight, 0.1, 200);
camera.position.set(0, 8, 14);

const renderer = new THREE.WebGLRenderer({ canvas: bg, antialias: true });
renderer.setSize(innerWidth, innerHeight);
renderer.setPixelRatio(Math.min(devicePixelRatio, 2));

scene.add(new THREE.AmbientLight(0xffffff, 0.8));

/* ================= GRID FLOOR ================= */
const grid = new THREE.GridHelper(200, 80, 0x2563eb, 0x1e40af);
grid.position.y = 0;
scene.add(grid);

/* ================= TRACK ================= */
const track = [];
const trackPositions = [];

for (let i = 0; i < 5; i++) {
  const tile = new THREE.Mesh(
    new THREE.BoxGeometry(3, 0.5, 3),
    new THREE.MeshStandardMaterial({
      color: 0x020617,
      emissive: 0x2563eb,
      emissiveIntensity: 0.8
    })
  );
  tile.position.set(i * 6, 0.25, 0);
  scene.add(tile);
  track.push(tile);
  trackPositions.push(tile.position.x);
}

/* ================= TRACK LABELS ================= */
const sections = [
  { title: "Start", text: "Welcome to my portfolio" },
  { title: "Skills", text: "Snowflake, Python, SQL, PySpark, AWS, GenAI" },
  { title: "Projects", text: "Automated Pipelines, Vector Search, Data Apps" },
  { title: "Contact", text: "cherukupally.sowmya19@gmail.com" },
  { title: "Resume", text: "Download resume from GitHub" }
];

/* ================= PLAYER ================= */
const player = new THREE.Mesh(
  new THREE.BoxGeometry(1.5, 1.5, 1.5),
  new THREE.MeshStandardMaterial({ color: 0x22c55e })
);
player.position.set(0, 1.2, 0);
scene.add(player);

/* ================= STATE ================= */
let index = 0;
let started = false;
const panel = document.getElementById("panel");

/* ================= UPDATE PANEL ================= */
function updatePanel() {
  const s = sections[index];
  panel.innerHTML = `<h3>${s.title}</h3><p>${s.text}</p>`;
  panel.classList.add("active");
}

/* ================= MOVE ================= */
function move(dir) {
  if (!started) return;
  index = Math.max(0, Math.min(track.length - 1, index + dir));
  updatePanel();
}

/* ================= INPUT ================= */
window.addEventListener("wheel", e => {
  if (e.deltaY > 0) move(1);
  else move(-1);
});

window.addEventListener("keydown", e => {
  if (e.key === "ArrowRight") move(1);
  if (e.key === "ArrowLeft") move(-1);
});

let touchX = 0;
window.addEventListener("touchstart", e => touchX = e.touches[0].clientX);
window.addEventListener("touchend", e => {
  const diff = touchX - e.changedTouches[0].clientX;
  if (Math.abs(diff) > 40) move(diff > 0 ? 1 : -1);
});

/* ================= START ================= */
document.getElementById("start").onclick = () => {
  started = true;
  document.getElementById("start").remove();
  updatePanel();
};

/* ================= LOOP ================= */
function animate() {
  requestAnimationFrame(animate);

  const targetX = trackPositions[index];

  player.position.x += (targetX - player.position.x) * 0.15;
  camera.position.x += (targetX - camera.position.x) * 0.08;
  camera.lookAt(player.position.x, 0, 0);

  renderer.render(scene, camera);
}
animate();

/* ================= RESIZE ================= */
window.addEventListener("resize", () => {
  camera.aspect = innerWidth / innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth, innerHeight);
});
</script>

</body>
</html>
