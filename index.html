<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dice Navigation Portfolio</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html,body{
  margin:0;
  height:100%;
  overflow:hidden;
  background:#020617;
  font-family:Arial, sans-serif;
  color:#e5e7eb;
}

canvas{display:block}

/* TOP NAV (BRUNO-STYLE) */
#nav{
  position:fixed;
  top:14px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:18px;
  z-index:10;
}

.nav-item{
  font-size:13px;
  letter-spacing:1px;
  color:#94a3b8;
  cursor:pointer;
  padding:6px 10px;
  border-radius:8px;
  transition:all 0.2s ease;
}

.nav-item:hover{
  color:#38bdf8;
  background:rgba(56,189,248,0.1);
}

/* HINT */
#hint{
  position:fixed;
  bottom:12px;
  left:50%;
  transform:translateX(-50%);
  color:#94a3b8;
  font-size:13px;
}

/* PANELS */
.panel{
  position:fixed;
  top:50%;
  transform:translateY(-50%);
  width:360px;
  padding:18px;
  background:rgba(2,6,23,0.95);
  border-radius:16px;
  opacity:0;
  pointer-events:none;
  transition:opacity 0.35s ease;
}

.panel.show{
  opacity:1;
  pointer-events:auto;
}

#leftPanel{left:20px;}
#rightPanel{right:20px;}

.panel a{
  color:#38bdf8;
  text-decoration:none;
  font-size:14px;
}

/* SKILLS */
.skills{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
  margin-top:10px;
}

.skill{
  background:#020617;
  border:1px solid #1e40af;
  border-radius:10px;
  padding:8px;
  text-align:center;
  font-size:12px;
  color:#38bdf8;
}
</style>
</head>

<body>

<!-- TOP NAV -->
<div id="nav">
  <div class="nav-item" onclick="goTo('contact')">CONTACT</div>
  <div class="nav-item" onclick="goTo('resume')">RESUME</div>
  <div class="nav-item" onclick="goTo('skills')">SKILLS</div>
  <div class="nav-item" onclick="goTo('projects')">PROJECTS</div>
</div>

<div id="hint">Tap a heading or swipe / A / D to move</div>

<!-- LEFT PANEL -->
<div id="leftPanel" class="panel">
  <h2 id="leftTitle"></h2>
  <div id="leftContent"></div>
</div>

<!-- RIGHT PANEL -->
<div id="rightPanel" class="panel">
  <h2 id="rightTitle"></h2>
  <div id="rightContent"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>

<script>
let scene,camera,renderer,dice,path;
let t=0.5,targetT=0.5,bounce=0;

const leftPanel=document.getElementById("leftPanel");
const rightPanel=document.getElementById("rightPanel");
const leftTitle=document.getElementById("leftTitle");
const leftContent=document.getElementById("leftContent");
const rightTitle=document.getElementById("rightTitle");
const rightContent=document.getElementById("rightContent");

/* NAV TARGETS */
function goTo(section){
  if(section==="contact") targetT=0.1;
  if(section==="resume") targetT=0.3;
  if(section==="skills") targetT=0.7;
  if(section==="projects") targetT=0.9;
}

window.onload=()=>{
  scene=new THREE.Scene();
  scene.background=new THREE.Color(0x020617);

  camera=new THREE.PerspectiveCamera(60,innerWidth/innerHeight,0.1,100);
  camera.position.set(0,4,12);

  renderer=new THREE.WebGLRenderer({antialias:true});
  renderer.setSize(innerWidth,innerHeight);
  renderer.setPixelRatio(devicePixelRatio);
  document.body.appendChild(renderer.domElement);

  scene.add(new THREE.AmbientLight(0xffffff,1.2));
  const d=new THREE.DirectionalLight(0xffffff,1.5);
  d.position.set(5,10,5);
  scene.add(d);

  scene.add(new THREE.GridHelper(60,60,0x38bdf8,0x1e40af));

  path=new THREE.CatmullRomCurve3([
    new THREE.Vector3(-8,1.1,0),
    new THREE.Vector3(-3,1.6,-1.2),
    new THREE.Vector3(0,1.8,-1.8),
    new THREE.Vector3(3,1.6,-1.2),
    new THREE.Vector3(8,1.1,0)
  ]);

  const pts=path.getPoints(100);
  scene.add(new THREE.Line(
    new THREE.BufferGeometry().setFromPoints(pts),
    new THREE.LineBasicMaterial({color:0x38bdf8})
  ));

  dice=new THREE.Mesh(
    new THREE.BoxGeometry(2.2,2.2,2.2),
    new THREE.MeshStandardMaterial({color:0x22c55e})
  );
  scene.add(dice);

  window.addEventListener("keydown",e=>{
    if(e.key==="a"||e.key==="ArrowLeft")targetT=Math.max(0,targetT-0.25);
    if(e.key==="d"||e.key==="ArrowRight")targetT=Math.min(1,targetT+0.25);
  });

  let sx=0;
  window.addEventListener("touchstart",e=>sx=e.touches[0].clientX);
  window.addEventListener("touchend",e=>{
    const dx=e.changedTouches[0].clientX-sx;
    if(dx>40) targetT=Math.min(1,targetT+0.25);
    if(dx<-40) targetT=Math.max(0,targetT-0.25);
  });

  animate();
};

function animate(){
  requestAnimationFrame(animate);

  t+=(targetT-t)*0.08;
  bounce+=Math.abs(targetT-t)*0.15;
  const y=Math.sin(bounce)*0.15;
  const p=path.getPoint(t);

  dice.position.set(p.x,p.y+y,p.z);

  if(t<0.2){
    leftPanel.classList.add("show");
    rightPanel.classList.remove("show");
    leftTitle.textContent="CONTACT";
    leftContent.innerHTML=`
      <p>ðŸ“ž +917095338146</p>
      <p>ðŸ“§ cherukupally.sowmya19@gmail.com</p>
      <a href="https://www.linkedin.com/in/sowmya-cherukupally-a92911251" target="_blank">LinkedIn</a><br>
      <a href="https://github.com/Sowmya-Cherukupally" target="_blank">GitHub</a>`;
  }
  else if(t<0.4){
    leftPanel.classList.add("show");
    rightPanel.classList.remove("show");
    leftTitle.textContent="RESUME";
    leftContent.innerHTML=`
      <a href="SowmyaCherukupallyResume.pdf" target="_blank">Download Resume â†’</a>`;
  }
  else if(t>0.8){
    rightPanel.classList.add("show");
    leftPanel.classList.remove("show");
    rightTitle.textContent="PROJECTS";
    rightContent.innerHTML=`
      <strong>Automated Data Ingestion</strong>
      <p>Snowflake + PySpark pipeline.</p>
      <a href="https://github.com/sowmya-ch-19/Agentic" target="_blank">GitHub â†’</a>
      <hr style="opacity:.2">
      <strong>Real Estate Comparison Tool</strong>
      <p>Vector-based property comparison.</p>
      <a href="https://github.com/sowmya-ch-19/PropelensRealestate" target="_blank">GitHub â†’</a>`;
  }
  else if(t>0.6){
    rightPanel.classList.add("show");
    leftPanel.classList.remove("show");
    rightTitle.textContent="SKILLS";
    rightContent.innerHTML=`
      <div class="skills">
        <div class="skill">Python</div>
        <div class="skill">Snowflake</div>
        <div class="skill">PySpark</div>
        <div class="skill">SQL</div>
        <div class="skill">DBT</div>
        <div class="skill">Data Pipelines</div>
      </div>`;
  }
  else{
    leftPanel.classList.remove("show");
    rightPanel.classList.remove("show");
  }

  renderer.render(scene,camera);
}
</script>

</body>
</html>
